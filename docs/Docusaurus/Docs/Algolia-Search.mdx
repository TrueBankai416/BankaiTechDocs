---
last_update:
  author: BankaiTech
draft: false
comments: true
---
## Installing [Algolia DocSearch](https://docusaurus.io/docs/search) for Docusaurus

Make sure you are in the root of your website, in my case ill run
```
cd /var/websites/"HomeLab Docs"
```
### Applying to the DocSearch Program
Lets apply for [Algolia DocSearch](https://docsearch.algolia.com/apply/)

:::note
You should recieve an Email with further instructions and a Crawler should have been [automatically setup for you](https://docsearch.algolia.com/docs/templates/#getting-started).
I this is an updated Doc from Legacy search, this doc may not be 100% accurate because I migrated some time ago and am just now documenting it. I appologize
There is however great support from Algolia if you need further assistance, click [HERE](https://discord.gg/docusaurus)
:::

Now go to the `Settings` page

![Algolia Settings](/img/Docusaurus/AlgoliaSettings.jpg)

Continue to the `API` Page

![Algolia API](/img/Docusaurus/AlgoliaAPI.jpg)

Take note of the ID and Both keys, we will be using them shortly.

![Algolia Keys](/img/Docusaurus/AlgoliaKeys.jpg)

### Dotenv
In order to keep your sensitive information hidden, we need to install and configure dotenv
#### Installing dotenv
Run the following command
```
npm install dotenv --save
```
#### Configuring dotenv
Open `docusaurus.config.ts using your prefered text editor such as nano.
Add the following code snippet above your main config near the top.
```
// Environment Variable Config
import dotenv from 'dotenv';
require('dotenv').config({path: './.env', debug: true})
```

### Creating the .env file
Now lets create an `.env` file.
```
nano .env
```
Paste your `ID` and `Admin API Key` in the following format
```
ALGOLIA_APP_ID = ""
ALGOLIA_API_KEY = ""
```
:::tip[Hint]

Paste by pressing `CTRL+SHIFT+V`
Save by pressing `CTRL+X`
:::

### Modifying the docusaurus.config.ts file
```
nano docusaurus.config.ts
```
Paste the following
```
    algolia: {
      appId: process.env.ALGOLIA_APP_ID,
      apiKey: process.env.ALGOLIA_API_KEY,
      indexName: 'bankai-tech',
      // Optional: see doc section below
      contextualSearch: true,
      // Optional: Replace parts of the item URLs from Algolia. Useful when using the same search index for multiple deployments using a different baseUrl. You can use regexp or string in the `from` param. For example: localhost:3000 vs myCompany.com/docs
      replaceSearchResultPathname: {
        from: '/docs/', // or as RegExp: /\/docs\//
        to: '/',
      },
      // Optional: Algolia search parameters
      searchParameters: {},

      // Optional: path for search page that enabled by default (`false` to disable it)
      searchPagePath: 'search',
    },
```

### Building the website
Now build the site.
```
npm run build
```

### Start the first Crawl
Now we should be able to [login](https://dashboard.algolia.com/).
Go to `Data Sources`

![Algolia Dashboard](/img/Docusaurus/Algolia_Dashboard.png)

Go to `Crawler`

![Algolia Crawler](/img/Docusaurus/Algolia_Crawler.png)

Click on your crawler and then Start Crawl

![Crawler](/img/Docusaurus/Crawl.png)

<a href="https://www.buymeacoffee.com/BankaiTech"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a beer&emoji=🍺&slug=BankaiTech&button_colour=FFDD00&font_colour=000000&font_family=Cookie&outline_colour=000000&coffee_colour=ffffff" /></a>
