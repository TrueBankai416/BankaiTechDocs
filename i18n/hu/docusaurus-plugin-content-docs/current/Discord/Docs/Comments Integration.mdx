---
title: Hozz√°sz√≥l√°sok integr√°ci√≥ja
description: Teljes k√∂r≈± √∫tmutat√≥ a k√©tir√°ny√∫ Discord-hozz√°sz√≥l√°sok Docusaurusba integr√°l√°s√°hoz, bele√©rtve a be√°ll√≠t√°st, a konfigur√°ci√≥t √©s a hibaelh√°r√≠t√°st.
image: /img/social/discord-social.jpg
sidebar_position: 2
---

# Discord hozz√°sz√≥l√°sok integr√°ci√≥ja

Ez a dokument√°ci√≥s oldal egy **k√©tir√°ny√∫ Discord hozz√°sz√≥l√°sintegr√°ci√≥t** tartalmaz, amely lehet≈ëv√© teszi a l√°togat√≥k sz√°m√°ra, hogy hozz√°sz√≥l√°sokat k√ºldjenek a Discord szerveredre √âS a Discord v√°laszokat a weboldalon a megl√©v≈ë GitHub-alap√∫ Giscus hozz√°sz√≥l√°sok mellett megjelen√≠ts√©k.

## Jellemz≈ëk

* **K√©tir√°ny√∫ kommunik√°ci√≥**: Weboldalhozz√°sz√≥l√°sok ‚Üí Discord, Discord v√°laszok ‚Üí Weboldal
* **Kett≈ës kommentrendszer**: A Giscus (GitHub-alap√∫) √©s a Discord kommentek egy√ºtt m≈±k√∂dnek.
* **R√©szletes Discord be√°gyaz√°sok**: A hozz√°sz√≥l√°sok form√°zott be√°gyaz√°sk√©nt jelennek meg, teljes oldalas kontextussal.
* **T√©makezel√©s**: Automatikus t√©mal√©trehoz√°s a rendszerezett v√°laszokhoz
* **Val√≥s idej≈± friss√≠t√©sek**: A weboldal automatikusan megjelen√≠ti a Discord v√°laszokat
* **Teljes oldal kontextusa**: A megjegyz√©sek tartalmazz√°k az oldal c√≠m√©t, URL-c√≠m√©t √©s navig√°ci√≥s kontextus√°t.
* **Felhaszn√°l√≥i avatarok**: A Discord v√°laszok felhaszn√°l√≥i avatarokat √©s felhaszn√°l√≥neveket mutatnak.
* **Reszponz√≠v diz√°jn**: Asztali g√©pen √©s mobileszk√∂z√∂k√∂n is m≈±k√∂dik

## Be√°ll√≠t√°si utas√≠t√°sok

### 1. Hozz l√©tre egy Discord Botot

1. Menj a [Discord fejleszt≈ëi port√°lra](https://discord.com/developers/applications)
2. √öj alkalmaz√°s l√©trehoz√°sa
3. L√©pj a ‚ÄûBot‚Äù r√©szhez, √©s hozz l√©tre egy botot.
4. M√°solja a bot tokent
5. A ‚ÄûPrivileged Gateway Intents‚Äù (Kiemelt √°tj√°r√≥ sz√°nd√©kai) alatt enged√©lyezze a k√∂vetkez≈ëket:
   * **√úzenet tartalm√°nak sz√°nd√©ka**
   * **Szervertagok sz√°nd√©ka** (opcion√°lis)

### 2) Botenged√©lyek konfigur√°l√°sa

A botodnak ezekre az enged√©lyekre van sz√ºks√©ge:

* √úzenetek olvas√°sa
* √úzenetek k√ºld√©se
* Nyilv√°nos sz√°lak l√©trehoz√°sa
* √úzenetek k√ºld√©se sz√°lakban
* √úzenetel≈ëzm√©nyek olvas√°sa
* Perjelparancsok haszn√°lata (opcion√°lis)

### 3. Bot megh√≠v√°sa a szerverre

1. L√©pjen az OAuth2 > URL-gener√°tor men√ºpontra.
2. V√°lassza ki a ‚Äûbot‚Äù hat√≥k√∂rt
3. V√°lassza ki a fent felsorolt jogosults√°gokat
4. A l√©trehozott URL haszn√°lat√°val h√≠vd meg a botot a szerveredre

### 4) K√∂rnyezeti v√°ltoz√≥k konfigur√°l√°sa

#### El≈ët√©tprogram (.env)

```env
# Discord Bot Konfigur√°ci√≥
DISCORD_BOT_TOKEN=a_bot_token_ideje
DISCORD_CHANNEL_ID=a_csatorna_azonos√≠t√≥ja_ideje

# API Konfigur√°ci√≥
REACT_APP_API_URL=http://localhost:3001

# Discord Kontextus Konfigur√°ci√≥
DISCORD_CONTEXT_LEVEL=full
DISCORD_SHOW_BREADCRUMBS=true
DISCORD_SHOW_SECTION_INFO=true
DISCORD_SITE_NAME=Az oldalad neve
```

#### H√°tt√©rkiszolg√°l√≥ (server/.env)

```env
# Discord Bot Konfigur√°ci√≥
DISCORD_BOT_TOKEN=a_bot_token_ideje
DISCORD_CHANNEL_ID=a_csatorna_azonos√≠t√≥ja_ideje

# API Konfigur√°ci√≥
PORT=3001

# Discord Kontextus Konfigur√°ci√≥
DISCORD_CONTEXT_LEVEL=full
DISCORD_SHOW_PAGE_CONTEXT=true
DISCORD_SHOW_BREADCRUMBS=true
DISCORD_SHOW_SECTION_INFO=true
DISCORD_SHOW_PAGE_PATH=false
DISCORD_SHOW_TIMESTAMP=true
DISCORD_SHOW_AUTHOR_FIELD=true
DISCORD_CREATE_THREADS=true
DISCORD_THREAD_DURATION=1440
DISCORD_SITE_NAME=Az oldalad neve
```

:::figyelmeztet√©s Biztons√°gi megjegyz√©s

* Soha ne v√©gleges√≠tsd a `.env` f√°jlokat verzi√≥k√∂vet√©sbe
* K√∂rnyezeti v√°ltoz√≥k haszn√°lata √©les k√∂rnyezetben
* Tartsa biztons√°gban a bot tokenj√©t
  :::

### 5. Szerverf√ºgg≈ës√©gek telep√≠t√©se

```bash
cd szerver
npm telep√≠t√©s
```

### 6. Ind√≠tsa el a h√°tt√©rkiszolg√°l√≥t

```bash
# Fejleszt√©s
npm fut√°s dev

# √âles
npm ind√≠t√°s
```

### 7. Telep√≠t√©si konfigur√°ci√≥

√âles k√∂rnyezetben t√∂rt√©n≈ë telep√≠t√©sekhez √°ll√≠tsa be a k√∂rnyezeti v√°ltoz√≥kat a t√°rhelyplatformon:

* **Frontend**: √Åll√≠tsa be a `REACT_APP_API_URL`-t az √©les API URL-c√≠m√©re
* **H√°tt√©r**: Szervermappa telep√≠t√©se bot tokennel √©s csatornaazonos√≠t√≥val
* **Adatb√°zis**: Az SQLite adatb√°zis automatikusan l√©trej√∂n
* **Kontextus**: A Discord kontextus szintj√©nek √©s be√°ll√≠t√°sainak konfigur√°l√°sa a preferenci√°id szerint.

## Hogyan m≈±k√∂dik

### Teljes k√©tir√°ny√∫ √°raml√°s

1. **Weboldalhozz√°sz√≥l√°s**: A felhaszn√°l√≥ weboldali ≈±rlapon kereszt√ºl k√ºldi el a hozz√°sz√≥l√°s√°t.
2. **Discord √ºzenet**: A bot form√°zott be√°gyaz√°st k√ºld a Discord csatorn√°ra teljes oldali kontextussal
3. **T√©ma l√©trehoz√°sa**: A bot automatikusan l√©trehoz egy t√©m√°t a rendszerezett v√°laszokhoz.
4. **Discord v√°laszok**: A Discord felhaszn√°l√≥k v√°laszolnak a besz√©lget√©sben vagy az √ºzenetre.
5. **Adatb√°zis-t√°rol√°s**: A bot az √∂sszes megjegyz√©st √©s v√°laszt az SQLite adatb√°zisban t√°rolja.
6. **Weboldal megjelen√≠t√©se**: A frontend 30 m√°sodpercenk√©nt lek√©rdezi az API-t, √©s megjelen√≠ti a Discord v√°laszokat.

### Discord √ºzenet form√°tum

A Discord be√°gyaz√°sok a k√∂vetkez≈ëket tartalmazz√°k:

* **Title**: "üí¨ New Comment: \{Page Title}"
* **Le√≠r√°s**: A hozz√°sz√≥l√°s t√©nyleges tartalma
* **Szerz≈ë**: A hozz√°sz√≥l√≥ neve
* **URL**: Kattinthat√≥ link a pontos oldalra
* **Oldalmez≈ë**: Megjelen√≠ti az oldal c√≠m√©t kattinthat√≥ hivatkoz√°ssal
* **Id≈ëb√©lyeg**: Mikor jelent meg a hozz√°sz√≥l√°s
* **T√©ma**: Automatikusan l√©trehozott t√©ma a v√°laszokhoz

### Weboldal megjelen√≠t√©se

A weboldal a k√∂vetkez≈ëket mutatja:

* **Eredeti hozz√°sz√≥l√°sok**: Weboldal ≈±rlap bek√ºld√©sei
* **Discord v√°laszok**: Discord felhaszn√°l√≥k v√°laszai avatarokkal √©s felhaszn√°l√≥nevekkel
* **Val√≥s idej≈± friss√≠t√©sek**: Automatikus lek√©rdez√©s az √∫j v√°laszokr√≥l
* **T√©masz√°lakba rendezett besz√©lget√©sek**: Rendezett hozz√°sz√≥l√°s ‚Üí v√°laszstrukt√∫ra

## Kontextus konfigur√°ci√≥

### Kontextusszintek

√Åll√≠tsa be, hogy mennyi kontextus jelenjen meg a Discord √ºzenetekben:

#### `DISCORD_CONTEXT_LEVEL=minim√°lis`

* **Megjelen√≠ti**: Csak az oldal c√≠m√©t √©s a hozz√°sz√≥l√°s tartalm√°t
* **Haszn√°lati eset**: Tiszta, egyszer≈± √ºzenetek extra kontextus n√©lk√ºl

#### `DISCORD_CONTEXT_LEVEL=alap`

* **Megjelen√≠ti**: Oldal c√≠m√©t, a hozz√°sz√≥l√°sok tartalm√°t √©s a kattinthat√≥ oldal URL-c√≠m√©t
* **Haszn√°lati eset**: M√©rs√©kelt kontextus l√©nyeges inform√°ci√≥kkal

#### `DISCORD_CONTEXT_LEVEL=full` (alap√©rtelmezett)

* **Megjelen√≠ti**: Minden kontextu√°lis inform√°ci√≥t, bele√©rtve a navig√°ci√≥s √∫tvonalakat, szakaszokat √©s id≈ëb√©lyegeket
* **Haszn√°lati eset**: Maxim√°lis kontextus a r√©szletes megbesz√©l√©sekhez

#### `DISCORD_CONTEXT_LEVEL=egy√©ni`

* **Megjelen√≠ti**: Csak azokat a kontextuselemeket jelen√≠ti meg, amelyeket egyenk√©nt enged√©lyez
* **Haszn√°lati eset**: Finomhangolt kontroll a megjelen√©s felett

### Egy√©ni kontextusvez√©rl≈ëk

A `DISCORD_CONTEXT_LEVEL=custom` haszn√°latakor az egyes elemeket szab√°lyozhatod:

```env
DISCORD_SHOW_PAGE_CONTEXT=true # Oldal c√≠m√©nek √©s URL mez≈ëj√©nek megjelen√≠t√©se
DISCORD_SHOW_BREADCRUMBS=true # Navig√°ci√≥s morzs√°k megjelen√≠t√©se
DISCORD_SHOW_SECTION_INFO=true # F≈ë szakasz megjelen√≠t√©se (Docker, Nextcloud, stb.)
DISCORD_SHOW_PAGE_PATH=false # Teljes URL el√©r√©si √∫t megjelen√≠t√©se
DISCORD_SHOW_TIMESTAMP=true # A hozz√°sz√≥l√°s k√∂zz√©t√©tel√©nek d√°tuma
DISCORD_SHOW_AUTHOR_FIELD=true # A hozz√°sz√≥l√≥ nev√©nek megjelen√≠t√©se be√°gyaz√°s szerz≈ëjek√©nt
```

### Sz√°lkonfigur√°ci√≥

```env
DISCORD_CREATE_THREADS=true # V√°laszokhoz sz√°lakat hoz l√©tre
DISCORD_THREAD_DURATION=1440 # T√©ma automatikus archiv√°l√°s√°nak ideje (perc)
DISCORD_SITE_NAME=Az oldalad neve # Az oldal neve a l√°bl√©cben
```

### P√©lda kontextus kimenetekre

**Minim√°lis kontextus:**

```
Docker telep√≠t√©si √∫tmutat√≥
"Ez az oktat√≥anyag nagyon hasznos volt! Hogyan kezeljem a port√ºtk√∂z√©seket?"
```

**Alapvet≈ë kontextus:**

```
üí¨ Docker telep√≠t√©si √∫tmutat√≥
"Ez az oktat√≥anyag nagyon hasznos volt! Hogyan kezeljem a port√ºtk√∂z√©seket?"
[Link az oldalra]
```

**Teljes kontextus:**

```
üí¨ √öj hozz√°sz√≥l√°s: Docker telep√≠t√©si √∫tmutat√≥
üë§ John Doe
"Ez az oktat√≥anyag nagyon hasznos volt! Hogyan kezeljem a port√ºtk√∂z√©seket?"

üìÑ Oldal: Docker telep√≠t√©si √∫tmutat√≥
üìç Navig√°ci√≥: Docker > Dokument√°ci√≥ > Docker telep√≠t√©se
üìÇ Szakasz: Docker
üîó √ötvonal: /Docker/Docs/Installing%20Docker/Docker%20Eengine

Az oldalad neve ‚Ä¢ Hozz√°sz√≥l√°srendszer
```

## Testreszab√°s

### St√≠lus

A Discord hozz√°sz√≥l√°sok komponense CSS modulokat haszn√°l. A megjelen√©st a k√∂vetkez≈ë m√≥dos√≠t√°sokkal testreszabhatja:

```
src/components/DiscordComments/styles.module.css
```

### √úzenetform√°tum

A Discord be√°gyaz√°si form√°tum√°nak testreszab√°s√°hoz szerkeszd a `discordMessage` objektumot a k√∂vetkez≈ë helyen:

```
src/components/DiscordComments/index.tsx
```

### Alkatr√©szek elhelyez√©se

A Discord hozz√°sz√≥l√°sok alap√©rtelmez√©s szerint a Giscus hozz√°sz√≥l√°sok alatt jelennek meg. Ennek megv√°ltoztat√°s√°hoz m√≥dos√≠tsa:

```
src/theme/DocItem/Layout/index.js
```

## Hibaelh√°r√≠t√°s

### A bot nem v√°laszol

1. **Ellen≈ërizd a bot tokent**: Gy≈ëz≈ëdj meg r√≥la, hogy a `DISCORD_BOT_TOKEN` helyes.
2. **Enged√©lyek ellen≈ërz√©se**: Gy≈ëz≈ëdj√∂n meg arr√≥l, hogy a bot rendelkezik a sz√ºks√©ges enged√©lyekkel a csatorn√°ban.
3. **Csatornaazonos√≠t√≥ ellen≈ërz√©se**: Gy≈ëz≈ëdj√∂n meg r√≥la, hogy a `DISCORD_CHANNEL_ID` helyes.
4. **Bot a szerveren**: Ellen≈ërizd, hogy a bot val√≥ban a Discord szervereden van-e.

### Nem jelennek meg a hozz√°sz√≥l√°sok

1. **A szerver fut**: Ellen≈ërizze, hogy a h√°tt√©rszerver a megfelel≈ë porton fut-e.
2. **API URL**: Ellen≈ërizze, hogy a `REACT_APP_API_URL` a h√°tt√©rszerveredre mutat-e.
3. **Adatb√°zis**: Ellen≈ërizze, hogy l√©trej√∂n-e az SQLite adatb√°zis a szerver mapp√°j√°ban.
4. **CORS**: Gy≈ëz≈ëdj√∂n meg arr√≥l, hogy a CORS konfigur√°lva van az el≈ët√©r-tartom√°ny√°hoz

### Discord v√°laszok nem jelennek meg

1. **√úzenettartalom sz√°nd√©ka**: Gy≈ëz≈ëdj meg r√≥la, hogy ez enged√©lyezve van a Discord fejleszt≈ëi port√°lon.
2. **Botok jogosults√°gai**: Ellen≈ërizze, hogy a bot elolvashatja-e az √ºzeneteket a csatorn√°ban.
3. **Adatb√°zis-kapcsolat**: Ellen≈ërizze a szervernapl√≥kat az adatb√°zis-hib√°k szempontj√°b√≥l
4. **Szavaz√°s**: A felhaszn√°l√≥i fel√ºlet 30 m√°sodpercenk√©nt k√ºld szavaz√°st ‚Äì a v√°laszok megjelen√©se id≈ëbe telhet.

### K√∂rnyezeti v√°ltoz√≥k nem m≈±k√∂dnek

* **Fejleszt√©s**: Ind√≠tsd √∫jra mind a frontend, mind a backend szervereket
* **√âles**: Telep√≠tse √∫jra mind a frontend, mind a backend k√∂rnyezetet a megfelel≈ë k√∂rnyezeti v√°ltoz√≥kkal
* **El≈ëtag**: Csak a `REACT_APP_` el≈ëtagot haszn√°lja a frontend v√°ltoz√≥khoz

### Adatb√°zis-probl√©m√°k

1. **F√°jlenged√©lyek**: Gy≈ëz≈ëdj√∂n meg arr√≥l, hogy a szerver √≠rhat az adatb√°zis k√∂nyvt√°r√°ba.
2. **Lemezter√ºlet**: Ellen≈ërizze az SQLite adatb√°zis sz√°m√°ra el√©rhet≈ë lemezter√ºletet
3. **Szervernapl√≥k**: Ellen≈ërizze a szerverkonzolt az adatb√°zis-kapcsolati hib√°k szempontj√°b√≥l

## Biztons√°gi szempontok

* **Bot Token**: Tartsd titokban a bot tokenedet, √©s soha ne v√©gleges√≠tsd a verzi√≥k√∂vet√©sben.
* **Sebess√©gkorl√°toz√°s**: A Discord sebess√©gkorl√°toz√°sokkal rendelkezik a botok sz√°m√°ra (elt√©r a webhookokt√≥l).
* **Bevitel valid√°l√°sa**: Mind a felhaszn√°l√≥i fel√ºlet, mind a h√°tt√©rrendszer valid√°lja a felhaszn√°l√≥i bevitelt.
* **Adatb√°zis-biztons√°g**: Az SQLite adatb√°zist megfelel≈ë f√°jlenged√©lyekkel kell v√©deni.
* **API biztons√°g**: Fontolja meg a sebess√©gkorl√°toz√°s bevezet√©s√©t az API v√©gpontokon
* **CORS**: Konfigur√°lja megfelel≈ëen a CORS-t az √©les k√∂rnyezet√©hez

## √âp√≠t√©szet

```
Weboldal frontend ‚Üê‚Üí Express API ‚Üê‚Üí Discord Bot ‚Üê‚Üí Discord Szerver
                    ‚Üì
                SQLite Adatb√°zis
```

## F√°jlszerkezet

```
project/
‚îú‚îÄ‚îÄ src/components/DiscordComments/ # Frontend komponens
‚îú‚îÄ‚îÄ server/ # Backend szerver
‚îÇ ‚îú‚îÄ‚îÄ api.js # Express API szerver
‚îÇ ‚îú‚îÄ‚îÄ discord-bot.js # Discord bot logika
‚îÇ ‚îú‚îÄ‚îÄ database.js # SQLite adatb√°zis f√ºggv√©nyek
‚îÇ ‚îî‚îÄ‚îÄ package.json # Szerverf√ºgg≈ës√©gek
‚îî‚îÄ‚îÄ docs/Discord/Docs/ # Dokument√°ci√≥
```

## B√∂ng√©sz≈ët√°mogat√°s

A Discord hozz√°sz√≥l√°sok komponense minden modern b√∂ng√©sz≈ëben m≈±k√∂dik, amely t√°mogatja a k√∂vetkez≈ëket:

* ES6 lek√©r√©si API
* React 18+
* CSS Grid √©s Flexbox
* Helyi t√°rhely (≈±rlapmeg≈ërz≈ë funkci√≥)
