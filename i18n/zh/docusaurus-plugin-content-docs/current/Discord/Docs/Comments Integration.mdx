---
title: è©•è«–é›†æˆ
description: å®Œæ•´æŒ‡å—ï¼šå¦‚ä½•å°‡ Discord é›™å‘è©•è«–èˆ‡ Docusaurus é›†æˆï¼ŒåŒ…æ‹¬è¨­å®šã€é…ç½®å’Œæ•…éšœæ’é™¤ã€‚
image: /img/social/discord-social.jpg
sidebar_position: 2
---

# Discordè©•è«–é›†æˆ

è©²æ–‡ä»¶ç¶²ç«™åŒ…å«ä¸€å€‹**é›™å‘ Discord è©•è«–æ•´åˆ**ï¼Œå…è¨±è¨ªå®¢å‘æ‚¨çš„ Discord ä¼ºæœå™¨ç™¼é€è©•è«–ï¼Œä¸¦åœ¨ç¶²ç«™ä¸Šé¡¯ç¤º Discord å›è¦†ä»¥åŠç¾æœ‰çš„åŸºæ–¼ GitHub çš„ Giscus è©•è«–ã€‚

## ç‰¹å¾µ

- **é›™å‘æºé€š**ï¼šç¶²ç«™è©•è«–â†’Discordï¼ŒDiscordå›è¦†â†’ç¶²ç«™
- **é›™é‡è©•è«–ç³»çµ±**ï¼šGiscusï¼ˆåŸºæ–¼GitHubï¼‰å’ŒDiscordè©•è«–åŠŸèƒ½å”åŒå·¥ä½œã€‚
- **è±å¯Œçš„ Discord åµŒå…¥å…§å®¹**ï¼šè©•è«–ä»¥æ ¼å¼åŒ–çš„åµŒå…¥å…§å®¹å½¢å¼é¡¯ç¤ºï¼Œä¸¦åŒ…å«å®Œæ•´çš„é é¢ä¸Šä¸‹æ–‡ã€‚
- **ä¸»é¡Œç®¡ç†**ï¼šè‡ªå‹•å»ºç«‹ä¸»é¡Œä»¥é€²è¡Œæœ‰åºå›å¤
- **å³æ™‚æ›´æ–°**ï¼šç¶²ç«™è‡ªå‹•é¡¯ç¤º Discord å›å¤
- **å®Œæ•´é é¢ä¸Šä¸‹æ–‡**ï¼šè©•è«–åŒ…å«é é¢æ¨™é¡Œã€URL å’Œå°èˆªä¸Šä¸‹æ–‡
- **ä½¿ç”¨è€…é ­åƒ**ï¼šDiscord å›è¦†æœƒé¡¯ç¤ºä½¿ç”¨è€…é ­åƒå’Œä½¿ç”¨è€…åç¨±
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**ï¼šåŒæ™‚é©ç”¨æ–¼æ¡Œé¢å’Œè¡Œå‹•è¨­å‚™

## Setup Instructions

### 1. å‰µå»ºä¸€å€‹ Discord æ©Ÿå™¨äºº

1. å‰å¾€[Discordé–‹ç™¼è€…å…¥å£ç¶²ç«™](https://discord.com/developers/applications)
2. Create a new application
3. Go to "Bot" section and create a bot
4. Copy the bot token
5. åœ¨ã€Œç‰¹æ¬Šç¶²é—œæ„åœ–ã€ä¸‹ï¼Œå•Ÿç”¨ï¼š
   - **Message Content Intent**
   - **ä¼ºæœå™¨æˆå“¡æ„åœ–**ï¼ˆå¯é¸ï¼‰

### 7. éƒ¨ç½²é…ç½®

Your bot needs these permissions:

- Read Messages
- ç™¼é€è¨Šæ¯
- å»ºç«‹å…¬å…±è¨è«–ä¸²
- åœ¨å°è©±ä¸­ç™¼é€è¨Šæ¯
- æŸ¥çœ‹è¨Šæ¯æ­·å²è¨˜éŒ„
- ä½¿ç”¨æ–œæ§“å‘½ä»¤ï¼ˆå¯é¸ï¼‰

### 6. å•Ÿå‹•å¾Œç«¯ä¼ºæœå™¨

1. å‰å¾€ OAuth2 > URL ç”¢ç”Ÿå™¨
2. Select "bot" scope
3. è«‹é¸æ“‡ä»¥ä¸Šåˆ—å‡ºçš„æ¬Šé™ã€‚
4. ä½¿ç”¨ç”¢ç”Ÿçš„ URL å°‡æ©Ÿå™¨äººé‚€è«‹åˆ°æ‚¨çš„ä¼ºæœå™¨

### 5. å®‰è£ä¼ºæœå™¨ä¾è³´é …

#### å‰ç«¯ï¼ˆ.envï¼‰

```env
# Discord Bot Configuration
DISCORD_BOT_TOKEN=your_bot_token_here
DISCORD_CHANNEL_ID=your_channel_id_here

# API Configuration
REACT_APP_API_URL=http://localhost:3001

# Discord Context Configuration
DISCORD_CONTEXT_LEVEL=full
DISCORD_SHOW_BREADCRUMBS=true
DISCORD_SHOW_SECTION_INFO=true
DISCORD_SITE_NAME=Your Site Name
```

#### å¾Œç«¯ä¼ºæœå™¨ï¼ˆserver/.envï¼‰

```env
# Discord Bot Configuration
DISCORD_BOT_TOKEN=your_bot_token_here
DISCORD_CHANNEL_ID=your_channel_id_here

# API Configuration
PORT=3001

# Discord Context Configuration
DISCORD_CONTEXT_LEVEL=full
DISCORD_SHOW_PAGE_CONTEXT=true
DISCORD_SHOW_BREADCRUMBS=true
DISCORD_SHOW_SECTION_INFO=true
DISCORD_SHOW_PAGE_PATH=false
DISCORD_SHOW_TIMESTAMP=true
DISCORD_SHOW_AUTHOR_FIELD=true
DISCORD_CREATE_THREADS=true
DISCORD_THREAD_DURATION=1440
DISCORD_SITE_NAME=Your Site Name
```

:::è­¦å‘Š å®‰å…¨æç¤º

- æ°¸é ä¸è¦å°‡ `.env` æª”æ¡ˆæäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»çµ±ä¸­ã€‚
- åœ¨ç”Ÿç”¢ç’°å¢ƒä¸­ä½¿ç”¨ç’°å¢ƒè®Šé‡
- Keep your bot token secure
  :::

### 6. Start the Backend Server

```bash
cd server
npm install
```

### 6. Start the Backend Server

```bash
# é–‹ç™¼ç’°å¢ƒ
npm run dev

# ç”Ÿç”¢ç’°å¢ƒ
npm start
```

### 7. 7. Deploy Configuration

å°æ–¼ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²ï¼Œè«‹åœ¨æ‚¨çš„è¨—ç®¡å¹³å°ä¸­è¨­å®šç’°å¢ƒè®Šæ•¸ï¼š

- **å‰ç«¯**ï¼šå°‡ `REACT_APP_API_URL` è¨­å®šç‚ºæ‚¨çš„ç”Ÿç”¢ API URL
- **å¾Œç«¯**ï¼šéƒ¨ç½²åŒ…å«æ©Ÿå™¨äººä»¤ç‰Œå’Œé »é“ ID çš„ä¼ºæœå™¨è³‡æ–™å¤¾
- **è³‡æ–™åº«**ï¼šå°‡è‡ªå‹•å»ºç«‹ SQLite è³‡æ–™åº«ã€‚
- **ä¸Šä¸‹æ–‡**ï¼šæ ¹æ“šæ‚¨çš„å–œå¥½é…ç½® Discord ä¸Šä¸‹æ–‡ç­‰ç´šå’Œé¸é …

## How It Works

### å®Œå…¨é›™å‘æµ

1. **ç¶²ç«™è©•è«–**ï¼šä½¿ç”¨è€…é€éç¶²ç«™è¡¨å–®æäº¤è©•è«–
2. **Discord è¨Šæ¯**ï¼šæ©Ÿå™¨äººå‘ Discord é »é“ç™¼é€åŒ…å«å®Œæ•´é é¢å…§å®¹çš„æ ¼å¼åŒ–åµŒå…¥è¨Šæ¯
3. **Thread Creation**: Bot automatically creates a thread for organized replies
4. **Discord Replies**: Discord users reply in the thread or to the message
5. **è³‡æ–™åº«å„²å­˜**ï¼šæ©Ÿå™¨äººå°‡æ‰€æœ‰è©•è«–å’Œå›æ‡‰å„²å­˜åœ¨ SQLite è³‡æ–™åº«ä¸­ã€‚
6. **ç¶²ç«™é¡¯ç¤º**ï¼šå‰ç«¯æ¯ 30 ç§’é€é API ç™¼èµ·ä¸€æ¬¡æŠ•ç¥¨ï¼Œä¸¦é¡¯ç¤º Discord å›è¦†ã€‚

### Discord è¨Šæ¯æ ¼å¼

DiscordåµŒå…¥å…§å®¹åŒ…æ‹¬ï¼š

- **Title**: "ğŸ’¬ New Comment: \{Page Title}"
- **æè¿°**ï¼šå¯¦éš›è©•è«–å…§å®¹
- **ä½œè€…**ï¼šè©•è«–è€…å§“å
- **URL**ï¼šæŒ‡å‘ç¢ºåˆ‡é é¢çš„å¯é»æ“Šéˆæ¥
- **é é¢æ¬„ä½**ï¼šé¡¯ç¤ºé é¢æ¨™é¡ŒåŠå¯é»æ“Šé€£çµ
- **Timestamp**: When the comment was posted
- **ä¸»é¡Œå¸–**ï¼šè‡ªå‹•å»ºç«‹çš„å›æ‡‰ä¸»é¡Œå¸–

### ç¶²ç«™é¡¯ç¤º

ç¶²ç«™é¡¯ç¤ºï¼š

- **åŸå§‹è©•è«–**ï¼šç¶²ç«™è¡¨å–®æäº¤
- **Discord Replies**: Replies from Discord users with avatars and usernames
- **å³æ™‚æ›´æ–°**ï¼šè‡ªå‹•è¼ªè©¢ä»¥ç²å–æ–°å›å¤
- **Threaded Conversations**: Organized comment â†’ reply structure

## ä¸Šä¸‹æ–‡é…ç½®

### ä¸Šä¸‹æ–‡å±¤æ¬¡

é…ç½® Discord è¨Šæ¯ä¸­é¡¯ç¤ºçš„ä¸Šä¸‹æ–‡è³‡è¨Šé‡ï¼š

#### `DISCORD_CONTEXT_LEVEL=minimal`

- **Shows**: Just page title and comment content
- **Use case**: Clean, simple messages without extra context

#### `DISCORD_CONTEXT_LEVEL=basic`

- **Shows**: Page title, comment content, and clickable page URL
- **ä½¿ç”¨å ´æ™¯**ï¼šåŒ…å«å¿…è¦è³‡è¨Šçš„é©åº¦ä¸Šä¸‹æ–‡

#### `DISCORD_CONTEXT_LEVEL=full`ï¼ˆé è¨­å€¼ï¼‰

- **é¡¯ç¤º**ï¼šæ‰€æœ‰ä¸Šä¸‹æ–‡è¨Šæ¯ï¼ŒåŒ…æ‹¬éºµåŒ…å±‘å°èˆªã€ç« ç¯€ã€æ™‚é–“æˆ³
- **ä½¿ç”¨å ´æ™¯**ï¼šç‚ºè©³ç´°è¨è«–æä¾›æœ€å¤§ç¨‹åº¦çš„èƒŒæ™¯ä¿¡æ¯

#### `DISCORD_CONTEXT_LEVEL=custom`

- **é¡¯ç¤º**ï¼šåƒ…é¡¯ç¤ºæ‚¨å–®ç¨å•Ÿç”¨çš„ä¸Šä¸‹æ–‡å…ƒç´ ã€‚
- **ä½¿ç”¨å ´æ™¯**ï¼šå°é¡¯ç¤ºå…§å®¹é€²è¡Œç²¾ç´°æ§åˆ¶

### Individual Context Controls

ä½¿ç”¨ `DISCORD_CONTEXT_LEVEL=custom` æ™‚ï¼Œæ‚¨å¯ä»¥æ§åˆ¶æ¯å€‹å…ƒç´ ï¼š

```env
DISCORD_SHOW_PAGE_CONTEXT=true      # Show page title and URL field
DISCORD_SHOW_BREADCRUMBS=true       # Show navigation breadcrumbs
DISCORD_SHOW_SECTION_INFO=true      # Show main section (Docker, Nextcloud, etc.)
DISCORD_SHOW_PAGE_PATH=false        # Show full URL path
DISCORD_SHOW_TIMESTAMP=true         # Show when comment was posted
DISCORD_SHOW_AUTHOR_FIELD=true      # Show commenter name as embed author
```

### Thread Configuration

```env
DISCORD_CREATE_THREADS=true # å»ºç«‹å›æ‡‰ä¸»é¡Œ
DISCORD_THREAD_DURATION=1440 # ä¸»é¡Œè‡ªå‹•å­˜æª”æ™‚é–“ï¼ˆåˆ†é˜ï¼‰
DISCORD_SITE_NAME=æ‚¨çš„ç¶²ç«™åç¨± # é è…³ä¸­çš„ç¶²ç«™åç¨± # é è…³ä¸­çš„ç¶²ç«™åç¨± # é è…³ä¸­çš„ç¶²ç«™åç¨± # é è…³ä¸­çš„ç¶²ç«™åç¨± #
```

### ç¯„ä¾‹ä¸Šä¸‹æ–‡è¼¸å‡º

**æœ€ç°¡èƒŒæ™¯ï¼š**

```
Docker å®‰è£æŒ‡å—
â€œé€™å€‹æ•™å­¸çœŸçš„å¾ˆæœ‰å¹«åŠ©ï¼æˆ‘è©²å¦‚ä½•è™•ç†é€£æ¥åŸ è¡çªï¼Ÿâ€
```

**åŸºæœ¬èƒŒæ™¯ï¼š**

```
ğŸ’¬ Docker å®‰è£æŒ‡å—
ã€Œé€™å€‹æ•™å­¸çœŸçš„å¾ˆæœ‰å¹«åŠ©ï¼æˆ‘è©²å¦‚ä½•è™•ç†é€£æ¥åŸ è¡çªï¼Ÿã€
[é é¢é€£çµ]
```

**å®Œæ•´ä¸Šä¸‹æ–‡ï¼š**

```
ğŸ’¬ New Comment: Docker Installation Guide
ğŸ‘¤ John Doe
"This tutorial was really helpful! How do I handle port conflicts?"

ğŸ“„ Page: Docker Installation Guide
ğŸ“ Navigation: Docker > Docs > Installing Docker
ğŸ“‚ Section: Docker
ğŸ”— Path: /Docker/Docs/Installing%20Docker/Docker%20Engine

Your Site Name â€¢ Comment System
```

## å®¢è£½åŒ–

### é€ å‹

Discordè©•è«–å…ƒä»¶ä½¿ç”¨äº†CSSæ¨¡çµ„ã€‚ æ‚¨å¯ä»¥é€éä¿®æ”¹ä»¥ä¸‹å…§å®¹ä¾†è‡ªè¨‚å¤–è§€ï¼š You can customize the appearance by modifying:

```
src/components/DiscordComments/styles.module.css
```

### è¨Šæ¯æ ¼å¼

è‹¥è¦è‡ªè¨‚ Discord åµŒå…¥æ ¼å¼ï¼Œè«‹ç·¨è¼¯ä¸‹åˆ—ä½ç½®çš„ `discordMessage` ç‰©ä»¶ï¼š

```
src/components/DiscordComments/index.tsx
```

### å…ƒä»¶æ”¾ç½®

The Discord comments appear below the Giscus comments by default. To change this, modify:

```
src/theme/DocItem/Layout/index.js
```

## æ•…éšœæ’é™¤

### Bot Not Responding

1. **æª¢æŸ¥æ©Ÿå™¨äººä»¤ç‰Œ**ï¼šç¢ºä¿ `DISCORD_BOT_TOKEN` æ­£ç¢º
2. **é©—è­‰æ¬Šé™**ï¼šç¢ºä¿æ©Ÿå™¨äººæ“æœ‰é »é“æ‰€éœ€çš„æ¬Šé™ã€‚
3. **æª¢æŸ¥é »é“ ID**ï¼šç¢ºä¿ `DISCORD_CHANNEL_ID` æ­£ç¢º
4. **ä¼ºæœå™¨ä¸­çš„æ©Ÿå™¨äºº**ï¼šè«‹ç¢ºèªæ©Ÿå™¨äººç¢ºå¯¦åœ¨æ‚¨çš„ Discord ä¼ºæœå™¨ä¸Šã€‚

### Comments Not Appearing

1. **Server running**: Check if backend server is running on correct port
2. **API URL**ï¼šè«‹é©—è­‰ `REACT_APP_API_URL` æ˜¯å¦æŒ‡å‘æ‚¨çš„å¾Œç«¯ä¼ºæœå™¨ã€‚
3. **è³‡æ–™åº«**ï¼šæª¢æŸ¥ä¼ºæœå™¨è³‡æ–™å¤¾æ˜¯å¦æ­£åœ¨å»ºç«‹ SQLite è³‡æ–™åº«
4. **CORS**ï¼šè«‹ç¢ºä¿å·²ç‚ºæ‚¨çš„å‰ç«¯ç¶²åŸŸè¨­å®š CORS

### Discordå›è¦†ä¸é¡¯ç¤º

1. **è¨Šæ¯å…§å®¹æ„åœ–**ï¼šè«‹ç¢ºä¿å·²åœ¨ Discord é–‹ç™¼è€…å…¥å£ç¶²ç«™ä¸­å•Ÿç”¨æ­¤åŠŸèƒ½ã€‚
2. **æ©Ÿå™¨äººæ¬Šé™**ï¼šé©—è­‰æ©Ÿå™¨äººæ˜¯å¦å¯ä»¥è®€å–é »é“ä¸­çš„æ¶ˆæ¯
3. **Database connection**: Check server logs for database errors
4. **è¼ªè©¢**ï¼šå‰ç«¯æ¯ 30 ç§’é€²è¡Œä¸€æ¬¡è¼ªè©¢ - å›è¦†å¯èƒ½éœ€è¦ä¸€äº›æ™‚é–“æ‰èƒ½é¡¯ç¤ºã€‚

### ç’°å¢ƒè®Šæ•¸ä¸èµ·ä½œç”¨

- **é–‹ç™¼**ï¼šé‡å•Ÿå‰ç«¯å’Œå¾Œç«¯ä¼ºæœå™¨
- **ç”Ÿç”¢ç’°å¢ƒ**ï¼šä½¿ç”¨æ­£ç¢ºçš„ç’°å¢ƒè®Šæ•¸é‡æ–°éƒ¨ç½²å‰ç«¯å’Œå¾Œç«¯ã€‚
- **å‰ç¶´**ï¼šåƒ…å‰ç«¯è®Šæ•¸ä½¿ç”¨ `REACT_APP_` å‰ç¶´

### Database Issues

1. **æª”æ¡ˆæ¬Šé™**ï¼šç¢ºä¿ä¼ºæœå™¨å¯ä»¥å¯«å…¥è³‡æ–™åº«ç›®éŒ„
2. **ç£ç¢Ÿç©ºé–“**ï¼šæª¢æŸ¥ SQLite è³‡æ–™åº«çš„å¯ç”¨ç£ç¢Ÿç©ºé–“
3. **Server logs**: Check server console for database connection errors

## å®‰å…¨è€ƒé‡

- **Bot Token**: Keep your bot token secret and never commit it to version control
- **Rate Limiting**: Discord has rate limits for bots (different from webhooks)
- **è¼¸å…¥é©—è­‰**ï¼šå‰ç«¯å’Œå¾Œç«¯éƒ½æœƒé©—è­‰ä½¿ç”¨è€…è¼¸å…¥
- **è³‡æ–™åº«å®‰å…¨æ€§**ï¼šSQLite è³‡æ–™åº«æ‡‰ä½¿ç”¨é©ç•¶çš„æª”æ¡ˆæ¬Šé™é€²è¡Œä¿è­·ã€‚
- **API å®‰å…¨æ€§**ï¼šè€ƒæ…®å°æ‚¨çš„ API ç«¯é»å¯¦ä½œé€Ÿç‡é™åˆ¶ã€‚
- **CORS**ï¼šè«‹ç‚ºæ‚¨çš„ç”Ÿç”¢åŸŸæ­£ç¢ºè¨­å®š CORSã€‚

## å»ºç¯‰å­¸

```
ç¶²ç«™å‰ç«¯ â†â†’ Express API â†â†’ Discord æ©Ÿå™¨äºº â†â†’ Discord ä¼ºæœå™¨
                    â†“
                SQLite è³‡æ–™åº«
```

## File Structure

```
project/
â”œâ”€â”€ src/components/DiscordComments/     # Frontend component
â”œâ”€â”€ server/                            # Backend server
â”‚   â”œâ”€â”€ api.js                        # Express API server
â”‚   â”œâ”€â”€ discord-bot.js                # Discord bot logic
â”‚   â”œâ”€â”€ database.js                   # SQLite database functions
â”‚   â””â”€â”€ package.json                  # Server dependencies
â””â”€â”€ docs/Discord/Docs/                # Documentation
```

## ç€è¦½å™¨æ”¯æ´

Discordè©•è«–å…ƒä»¶å¯åœ¨æ‰€æœ‰æ”¯æ´ä»¥ä¸‹åŠŸèƒ½çš„ç¾ä»£ç€è¦½å™¨ä¸­ä½¿ç”¨ï¼š

- ES6 fetch API
- React 18+
- CSS Grid å’Œ Flexbox
- Local Storage (for form persistence)
